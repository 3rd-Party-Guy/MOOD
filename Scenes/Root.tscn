[gd_scene load_steps=23 format=2]

[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/EnemyMelee.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/Level.tscn" type="PackedScene" id=3]
[ext_resource path="res://PSX Shader/shaders/dithers/bluenoise_128_128.png" type="Texture" id=4]
[ext_resource path="res://Scenes/Enemy.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scripts/PickupWeaponRifle.gd" type="Script" id=6]
[ext_resource path="res://PSX Shader/shaders/psx_dither_post.shader" type="Shader" id=7]
[ext_resource path="res://Crosshair.png" type="Texture" id=8]
[ext_resource path="res://Scripts/PickupWeaponShotgun.gd" type="Script" id=9]
[ext_resource path="res://Scripts/PickupWeaponLauncher.gd" type="Script" id=10]
[ext_resource path="res://Scenes/PauseScreen.tscn" type="PackedScene" id=11]
[ext_resource path="res://Scenes/AmmoPickup.tscn" type="PackedScene" id=12]

[sub_resource type="SphereShape" id=1]

[sub_resource type="SphereMesh" id=2]

[sub_resource type="BoxShape" id=3]

[sub_resource type="CubeMesh" id=4]

[sub_resource type="PrismMesh" id=5]

[sub_resource type="NavigationMesh" id=6]
vertices = PoolVector3Array( 13.5, 3.0885, 34, 11.5, 3.8385, 35, 17.5, 2.3385, 35, 11.5, 2.3385, 25, 11.5, 2.3385, 28, 13.5, 2.3385, 29, 15.5, 2.3385, 24, 20.5, 2.3385, 4, 20.5, 2.3385, -2, 15.5, 2.3385, 3, 13.5, 2.3385, 29, 13.5, 3.0885, 34, 17.5, 2.3385, 35, -2.5, 2.3385, -3, -5.5, 2.3385, -1, -5.5, 2.3385, 4, 3.5, 2.3385, 4, 5.5, 2.3385, 2, 8.5, 2.3385, -2, 20.5, 2.3385, 11, 20.5, 2.3385, 4, 15.5, 2.3385, 3, 15.5, 2.3385, 13, 20.5, 2.3385, 24, 15.5, 2.3385, 24, 13.5, 2.3385, 29, 17.5, 2.3385, 35, 24.5, 2.3385, 35, 24.5, 2.3385, 25, 20.5, 2.3385, 17, 20.5, 2.3385, 11, 15.5, 2.3385, 13, 8.5, 2.3385, -2, 5.5, 2.3385, 2, 15.5, 2.3385, 3, 20.5, 2.3385, -2, 20.5, 2.3385, 17, 15.5, 2.3385, 13, 15.5, 2.3385, 24, 20.5, 2.3385, 24, 15.5, 2.3385, 39, 15.5, 2.3385, 42, 21.5, 2.3385, 42, 21.5, 2.3385, 39, 13.5, -60.6615, 44, 13.5, -60.6615, 51, 21.5, -60.6615, 51, 21.5, -60.6615, 44 )
polygons = [ PoolIntArray( 1, 0, 2 ), PoolIntArray( 4, 3, 5 ), PoolIntArray( 5, 3, 6 ), PoolIntArray( 9, 8, 7 ), PoolIntArray( 12, 11, 10 ), PoolIntArray( 17, 16, 18 ), PoolIntArray( 18, 16, 13 ), PoolIntArray( 13, 16, 14 ), PoolIntArray( 14, 16, 15 ), PoolIntArray( 20, 19, 21 ), PoolIntArray( 21, 19, 22 ), PoolIntArray( 23, 28, 24 ), PoolIntArray( 24, 28, 25 ), PoolIntArray( 25, 28, 26 ), PoolIntArray( 26, 28, 27 ), PoolIntArray( 31, 30, 29 ), PoolIntArray( 33, 32, 34 ), PoolIntArray( 34, 32, 35 ), PoolIntArray( 39, 38, 36 ), PoolIntArray( 36, 38, 37 ), PoolIntArray( 43, 42, 40 ), PoolIntArray( 40, 42, 41 ), PoolIntArray( 47, 46, 44 ), PoolIntArray( 44, 46, 45 ) ]
cell/size = 1.0
cell/height = 0.75
agent/height = 1.5
agent/radius = 0.5
region/min_size = 3.0

[sub_resource type="Environment" id=7]

[sub_resource type="ViewportTexture" id=8]
viewport_path = NodePath("ViewportContainer/Viewport")

[sub_resource type="ShaderMaterial" id=9]
resource_local_to_scene = true
shader = ExtResource( 7 )
shader_param/col_depth = 32.0
shader_param/dith_range = 1.0
shader_param/scene_col = SubResource( 8 )
shader_param/dither_tex = ExtResource( 4 )

[sub_resource type="CanvasItemMaterial" id=10]
blend_mode = 1
light_mode = 1

[node name="Control" type="Control"]
margin_right = 40.0
margin_bottom = 40.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ViewportContainer" type="ViewportContainer" parent="."]
margin_right = 1920.0
margin_bottom = 1080.0
size_flags_horizontal = 3
size_flags_vertical = 3
stretch = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Viewport" type="Viewport" parent="ViewportContainer"]
size = Vector2( 480, 270 )
transparent_bg = true
handle_input_locally = false
render_target_clear_mode = 1
render_target_update_mode = 3
audio_listener_enable_3d = true
shadow_atlas_size = 2048

[node name="Root" type="Spatial" parent="ViewportContainer/Viewport"]

[node name="RiflePickup" type="Area" parent="ViewportContainer/Viewport/Root"]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 6.21868, 0.920713, -0.121997 )
collision_mask = 2147483649
script = ExtResource( 6 )

[node name="CollisionShape" type="CollisionShape" parent="ViewportContainer/Viewport/Root/RiflePickup"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="ViewportContainer/Viewport/Root/RiflePickup"]
mesh = SubResource( 2 )
material/0 = null

[node name="ShotgunPickup" type="Area" parent="ViewportContainer/Viewport/Root"]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 6.66034, 0.920713, 1.53124 )
collision_mask = 2147483649
script = ExtResource( 9 )

[node name="CollisionShape" type="CollisionShape" parent="ViewportContainer/Viewport/Root/ShotgunPickup"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 20.1493, 0, 0 )
shape = SubResource( 3 )

[node name="MeshInstance" type="MeshInstance" parent="ViewportContainer/Viewport/Root/ShotgunPickup"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 20.1769, 0, 0 )
mesh = SubResource( 4 )
material/0 = null

[node name="LauncherPickup" type="Area" parent="ViewportContainer/Viewport/Root"]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 17.6717, 4.65672, 28.0819 )
collision_mask = 2147483649
script = ExtResource( 10 )

[node name="CollisionShape" type="CollisionShape" parent="ViewportContainer/Viewport/Root/LauncherPickup"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 20.1493, 0, 0 )
shape = SubResource( 3 )

[node name="MeshInstance" type="MeshInstance" parent="ViewportContainer/Viewport/Root/LauncherPickup"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 20.1769, 0, 0 )
mesh = SubResource( 5 )
material/0 = null

[node name="Navigation" type="Navigation" parent="ViewportContainer/Viewport/Root"]

[node name="Enemies" type="Node" parent="ViewportContainer/Viewport/Root/Navigation"]

[node name="Enemy5" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.35008, 0 )
sightRange = 2

[node name="Enemy3" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 10.9658, 4.59291, 25.192 )
sightRange = 10
minDistance = 6

[node name="Enemy4" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 10.7697, 4.59278, 26.4932 )
sightRange = 10
minDistance = 6

[node name="Enemy6" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 10.963, 4.59269, 27.7733 )
sightRange = 10
minDistance = 6

[node name="Enemy7" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 24.4502, 5.21849, 24.8505 )
sightRange = 10
minDistance = 6

[node name="Enemy8" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 22.7648, 1.11783, 24.5666 )
sightRange = 10

[node name="Enemy9" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 12.6786, 1.21823, 25.013 )
sightRange = 10

[node name="Enemy10" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 17.6587, 1.21743, 32.9743 )
sightRange = 10

[node name="Enemy11" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 22.8194, 1.21759, 31.4281 )
sightRange = 10
minDistance = 6

[node name="Enemy12" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 22.7189, 1.21787, 28.6442 )
sightRange = 10
minDistance = 6

[node name="Enemy13" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 13.9253, 1.21744, 32.8851 )
sightRange = 10
minDistance = 6

[node name="Enemy" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 17, 1, 17 )
sightRange = 8

[node name="Enemy2" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 19, 1, 17 )
sightRange = 8

[node name="Enemy14" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 17.8705, -9.81784, 53.2309 )
sightRange = 25
move = false

[node name="Enemy15" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 23.5358, -20.818, 47.7835 )
sightRange = 15
move = false

[node name="Enemy16" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 17.4398, -43.693, 42.2841 )
sightRange = 15
move = false

[node name="Enemy17" parent="ViewportContainer/Viewport/Root/Navigation/Enemies" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 12.454, -52.693, 47.7538 )
move = false

[node name="Player" parent="ViewportContainer/Viewport/Root/Navigation" instance=ExtResource( 1 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -5, 1, 0 )
collision_mask = 2147483649

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="ViewportContainer/Viewport/Root/Navigation"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.03161, 0 )
navmesh = SubResource( 6 )

[node name="Scene" parent="ViewportContainer/Viewport/Root/Navigation/NavigationMeshInstance" instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0 )
input_ray_pickable = false

[node name="WorldEnvironment" type="WorldEnvironment" parent="ViewportContainer/Viewport/Root"]
environment = SubResource( 7 )

[node name="DirectionalLight" type="DirectionalLight" parent="ViewportContainer/Viewport/Root/WorldEnvironment"]
transform = Transform( 0.353553, -0.866025, 0.353553, -0.707107, -9.83519e-09, 0.707107, -0.612373, -0.5, -0.612373, 17, 12, 0 )
light_energy = 0.1
light_indirect_energy = 0.0
light_bake_mode = 0
directional_shadow_mode = 0
directional_shadow_split_1 = 1.0

[node name="ClearColor" type="ColorRect" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_right = 1880.0
margin_bottom = 1040.0
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Render" type="ColorRect" parent="."]
light_mask = 2
material = SubResource( 9 )
anchor_right = 1.0
anchor_bottom = 1.0
margin_right = 1880.0
margin_bottom = 1040.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Crosshair" type="TextureRect" parent="Render"]
light_mask = 0
material = SubResource( 10 )
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -2.0
margin_top = -2.0
margin_right = 2.0
margin_bottom = 2.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 8 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="CanvasLayer" type="CanvasLayer" parent="."]
pause_mode = 2
layer = 0
follow_viewport_enable = true

[node name="PauseScreen" parent="CanvasLayer" instance=ExtResource( 11 )]
visible = false

[node name="AmmoPickup" parent="." instance=ExtResource( 12 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 24.6185, 0.967195, 35.7471 )

[node name="AmmoPickup2" parent="." instance=ExtResource( 12 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 24.7011, 1.21312, 33.3811 )

[node name="AmmoPickup3" parent="." instance=ExtResource( 12 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 11.7011, 1.21312, 25.3811 )

[node name="AmmoPickup4" parent="." instance=ExtResource( 12 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 11.7011, 1.21312, 27.3811 )
[connection signal="body_entered" from="ViewportContainer/Viewport/Root/RiflePickup" to="ViewportContainer/Viewport/Root/RiflePickup" method="_on_WeaponPickup_body_entered"]
[connection signal="body_entered" from="ViewportContainer/Viewport/Root/ShotgunPickup" to="ViewportContainer/Viewport/Root/ShotgunPickup" method="_on_WeaponPickup_body_entered"]
[connection signal="body_entered" from="ViewportContainer/Viewport/Root/LauncherPickup" to="ViewportContainer/Viewport/Root/LauncherPickup" method="_on_WeaponPickup_body_entered"]
